{"is_source_file": true, "format": "JavaScript", "description": "This file implements a simple file-based product store with in-memory caching for managing product data in a Node.js backend. It provides functions to list, create, retrieve, update, delete, and calculate total inventory balance of products, persisting data in a JSON file.", "external_files": ["fs", "path"], "external_methods": ["fs.existsSync", "fs.mkdirSync", "fs.readFileSync", "fs.writeFileSync"], "published": ["listProducts", "createProduct", "getProductById", "updateProduct", "deleteProduct", "getTotalBalance"], "classes": [], "methods": [{"name": "listProducts()", "description": "Returns all products from the in-memory cache.", "scope": "", "scopeKind": ""}, {"name": "createProduct({ name, price, quantity })", "description": "Creates a new product with provided details and persists it to the file.", "scope": "", "scopeKind": ""}, {"name": "getProductById(id)", "description": "Retrieves a product by its ID from the cached products.", "scope": "", "scopeKind": ""}, {"name": "updateProduct(id, { name, price, quantity })", "description": "Updates an existing product identified by ID with new data.", "scope": "", "scopeKind": ""}, {"name": "deleteProduct(id)", "description": "Deletes a product by its ID from the cache and persistent storage.", "scope": "", "scopeKind": ""}, {"name": "getTotalBalance()", "description": "Calculates the total inventory value as sum of price * quantity for all products.", "scope": "", "scopeKind": ""}, {"name": "ensureDataDir()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "loadFromFile()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "saveToFile(products)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fs.existsSync", "fs.mkdirSync", "fs.readFileSync", "fs.writeFileSync"], "search-terms": ["product store", "file persistence", "inventory management", "JSON data file", "Node.js product API"], "state": 2, "file_id": 13, "knowledge_revision": 41, "git_revision": "e5f41e69617e0015fa345cdfb4ab783543edc654", "revision_history": [{"27": ""}, {"41": "e5f41e69617e0015fa345cdfb4ab783543edc654"}], "ctags": [{"_type": "tag", "name": "DATA_DIR", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^const DATA_DIR = path.join(__dirname, '..\\/..\\/data');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DATA_FILE", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^const DATA_FILE = path.join(DATA_DIR, 'products.json');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createProduct", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^function createProduct({ name, price, quantity }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ name, price, quantity })"}, {"_type": "tag", "name": "deleteProduct", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^function deleteProduct(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "ensureDataDir", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^function ensureDataDir() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fs", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^const fs = require('fs');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getProductById", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^function getProductById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getTotalBalance", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^function getTotalBalance() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^    id: nextId++,$/", "language": "JavaScript", "kind": "property", "scope": "createProduct.product", "scopeKind": "class"}, {"_type": "tag", "name": "listProducts", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^  listProducts,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "listProducts", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^function listProducts() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "loadFromFile", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^function loadFromFile() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^    name,$/", "language": "JavaScript", "kind": "field", "scope": "createProduct.product", "scopeKind": "class"}, {"_type": "tag", "name": "nextId", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^let nextId = products.reduce((max, p) => (p.id > max ? p.id : max), 0) + 1;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^const path = require('path');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "product", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^  const product = {$/", "language": "JavaScript", "kind": "class", "scope": "createProduct", "scopeKind": "class"}, {"_type": "tag", "name": "saveToFile", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^function saveToFile(products) {$/", "language": "JavaScript", "kind": "function", "signature": "(products)"}, {"_type": "tag", "name": "updateProduct", "path": "/home/kavia/workspace/code-generation/product-management-api-34290-34309/product_api_backend/src/services/products.js", "pattern": "/^function updateProduct(id, { name, price, quantity }) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, { name, price, quantity })"}], "hash": "f4779fd996f511803c43402119f497b6", "format-version": 4, "code-base-name": "product_api_backend", "filename": "product_api_backend/src/services/products.js", "fields": [{"name": "id: nextId++,", "scope": "createProduct.product", "scopeKind": "class", "description": "unavailable"}, {"name": "listProducts,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "name,", "scope": "createProduct.product", "scopeKind": "class", "description": "unavailable"}, {"name": "let nextId = products.reduce((max, p) => (p.id > max ? p.id : max), 0) + 1;", "scope": "", "scopeKind": "", "description": "unavailable"}]}